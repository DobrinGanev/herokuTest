{"version":3,"sources":["webpack:///../src/util/apiCaller.js?c9fb"],"names":[],"mappings":";;;;;;;;;;;;mBAMwB,O;;AANxB;;;;AACA;;;;;;AAEO,KAAM,4BAAW,OAAO,MAAP,KAAkB,WAAlB,IAAiC,QAAQ,GAAR,CAAY,QAAZ,KAAyB,MAA3D,GACrB,QAAQ,GAAR,CAAY,QAAZ,2BAA6C,QAAQ,GAAR,CAAY,IAAZ,IAAoB,iBAAO,IAAxE,OADqB,GAC8D,GAD9E;;AAGQ,UAAS,OAAT,CAAiB,QAAjB,EAAiD;AAAA,OAAtB,MAAsB,yDAAb,KAAa;AAAA,OAAN,IAAM;;AAC9D,UAAO,+BAAS,OAAT,SAAoB,QAApB,EAAgC;AACrC,cAAS,EAAE,gBAAgB,kBAAlB,EAD4B;AAErC,mBAFqC;AAGrC,WAAM,KAAK,SAAL,CAAe,IAAf;AAH+B,IAAhC,EAKN,IALM,CAKD;AAAA,YAAY,SAAS,IAAT,GAAgB,IAAhB,CAAqB;AAAA,cAAS,EAAE,UAAF,EAAQ,kBAAR,EAAT;AAAA,MAArB,CAAZ;AAAA,IALC,EAMN,IANM,CAMD,gBAAwB;AAAA,SAArB,IAAqB,QAArB,IAAqB;AAAA,SAAf,QAAe,QAAf,QAAe;;AAC5B,SAAI,CAAC,SAAS,EAAd,EAAkB;AAChB,cAAO,QAAQ,MAAR,CAAe,IAAf,CAAP;AACD;;AAED,YAAO,IAAP;AACD,IAZM,EAaN,IAbM,CAcL;AAAA,YAAY,QAAZ;AAAA,IAdK,EAeL;AAAA,YAAS,KAAT;AAAA,IAfK,CAAP;AAiBD,E","file":"0.a438858c3cca8d88ba51.hot-update.js","sourcesContent":["import fetch from 'isomorphic-fetch';\nimport Config from '../../config';\n\nexport const API_URL = (typeof window === 'undefined' || process.env.NODE_ENV === 'test') ?\n  process.env.BASE_URL || (`http://localhost:${process.env.PORT || Config.port}/`) : '/';\n\nexport default function callApi(endpoint, method = 'get', body) {\n  return fetch(`${API_URL}/${endpoint}`, {\n    headers: { 'content-type': 'application/json' },\n    method,\n    body: JSON.stringify(body),\n  })\n  .then(response => response.json().then(json => ({ json, response })))\n  .then(({ json, response }) => {\n    if (!response.ok) {\n      return Promise.reject(json);\n    }\n\n    return json;\n  })\n  .then(\n    response => response,\n    error => error\n  );\n}\n\n\n\n/** WEBPACK FOOTER **\n ** ../src/util/apiCaller.js\n **/"],"sourceRoot":""}